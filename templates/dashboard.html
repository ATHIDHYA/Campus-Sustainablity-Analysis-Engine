{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}

<div class="dashboard-grid">

    <div class="card">
        <h2>ðŸ“Š Sustainability Scores</h2>
        <canvas id="scoreChart"></canvas>
    </div>

    <div class="card menu">
        <h2>âš™ Actions</h2>
        <ul>
    <li><a href="/energy">âš¡ Energy Entry</a></li>
    <li><a href="/water">ðŸ’§ Water Entry</a></li>
    <li><a href="/waste">ðŸ—‘ Waste Entry</a></li>
    <li><a href="/greenery">ðŸŒ³ Greenery Entry</a></li>

    <li><a href="/upload_sustainability_excel">ðŸ“¤ Upload Excel</a></li>

    {% if role == "admin" %}
        <li><a href="/add_user">ðŸ‘¤ Add User</a></li>
    {% endif %}

    <li><a href="/report/2025">ðŸ“„ Download 2025 Report</a></li>
</ul>

    </div>

</div>

<script>
const ctx = document.getElementById('scoreChart');
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ labels | safe }},
        datasets: [{
            label: 'Sustainability Score',
            data: {{ scores | safe }}
        }]
    },
    options: {
        scales: {
            y: { beginAtZero: true, max: 100 }
        }
    }
});
</script>

{% endblock %}
