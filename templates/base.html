<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Sustainability Analytics{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<div class="navbar">
    <strong>ðŸŒ± Sustainability Analytics</strong>
    {% if session.get("username") %}
        <div>
            <span>{{ session.username }} ({{ session.role }})</span>
            <a href="/dashboard">Dashboard</a>
            <a href="/logout">Logout</a>
            <button onclick="toggleTheme()" style="margin-left:15px;">ðŸŒ“</button>
        </div>
    {% endif %}
</div>

<div class="container">
    {% block content %}{% endblock %}
</div>

<div class="footer">
    Campus Sustainability Analytics â€¢ Developed by Athidhya
</div>

<script>
function toggleTheme() {
    document.body.classList.toggle("dark");
    localStorage.setItem(
        "theme",
        document.body.classList.contains("dark") ? "dark" : "light"
    );
}

if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark");
}
</script>

</body>
</html>
